{% extends 'includes/student_dashboard_layout.html' %}
{% block content %}
<div class="content-body">
    <div class="container-fluid">
        <div class="row page-titles">
            <div class="col p-md-0">
                <h4>My <span>Profile</span></h4>
            </div>
            <div class="col p-md-0">
                <ol class="breadcrumb">
                    <li class="breadcrumb-item"><a href="javascript:void(0)">App</a>
                    </li>
                    <li class="breadcrumb-item"><a href="javascript:void(0)">App</a>
                    </li>
                    <li class="breadcrumb-item active">Profile</li>
                </ol>
            </div>
        </div>
        <!-- row -->
        <div class="row">
            <div class="col-lg-12">
                {% include "includes/messages.html" %}
                <div class="profile">
                    <div class="profile-head">
                        <div class="photo-content">
                            <div class="cover-photo"></div>
                            <div class="profile-photo">
                                <img src="{{ url_for('static', filename='assets/images/users_profile/'+current_user.user_image) }}" class="img-fluid rounded-circle" alt="">
                            </div>
                        </div>
                        <div class="profile-info">
                            <div class="row justify-content-center">
                                <div class="col-xl-8">
                                    <div class="row">
                                        <div class="col-xl-4 col-sm-4 border-right-1 prf-col">
                                            <div class="profile-name">
                                                <h4 class="text-primary">
                                                    {{ current_user.first_name }} {{ current_user.mid_name }} {{ current_user.last_name }}
                                                </h4>
                                                <p>{{ current_user.student_department.name}} - {{ current_user.student_class }}</p>
                                            </div>
                                        </div>
                                        <div class="col-xl-5 col-sm-4 border-right-1 prf-col">
                                            <div class="profile-email">
                                                <h4 class="text-muted">{{ current_user.email }}</h4>
                                                <p>Email</p>
                                            </div>
                                        </div>
                                        <div class="col-xl-3 col-sm-4 prf-col">
                                            <div class="profile-call">
                                                <h4 class="text-muted">{{ current_user.mobile_no }}</h4>
                                                <p>Phone No.</p>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div class="row">
            <div class="col-lg-12">
                <div class="card">
                    <div class="card-body">
                        <div class="profile-tab">
                            <div class="custom-tab-1">
                                <ul class="nav nav-tabs">
                                    <li class="nav-item"><a href="#about-me" data-toggle="tab" class="nav-link active show">About Me</a>
                                    </li>
                                    <li class="nav-item"><a href="#profile-settings" data-toggle="tab" class="nav-link">Settings</a>
                                    </li>
                                </ul>
                                <div class="tab-content">
                                    <div id="about-me" class="tab-pane fade active show">
                                        <div class="profile-about-me">
                                            <div class="pt-4 border-bottom-1 pb-4">
                                                <h4 class="text-primary">About Me</h4>
                                                <p>{{ current_user.about_me }}</p>
                                            </div>
                                        </div>
                                        <div class="profile-skills pt-5 border-bottom-1 pb-5">
                                            <h4 class="text-primary mb-4">Course</h4>
                                            <a href="javascript:void()" class="btn btn-outline-dark btn-rounded pl-4 my-3 my-sm-0 pr-4 mr-3 m-b-10">{{ current_user.student_course.name }}</a>
                                        </div>
                                        <div class="profile-lang pt-5 border-bottom-1 pb-5">
                                            <h4 class="text-primary mb-4">Language</h4>
                                            <a href="javascript:void()" class="text-muted pr-3 f-s-16"><i class="flag-icon flag-icon-us"></i> English</a>  
                                            <a href="javascript:void()" class="text-muted pr-3 f-s-16"><i class="flag-icon flag-icon-fr"></i> French</a> 
                                        </div>
                                        <div class="profile-personal-info pt-5">
                                            <h4 class="text-primary mb-4">Personal Information</h4>
                                            <div class="col">
                                                <div class="row mb-4">
                                                    <div class="col-2">
                                                        <h5 class="f-w-500">Name <span class="pull-right">:</span></h5>
                                                    </div>
                                                    <div class="col-4">
                                                        <span>
                                                            {{ current_user.first_name }} {{ current_user.mid_name }} {{ current_user.last_name }}
                                                        </span>
                                                    </div>
                                                    <div class="col-2">
                                                        <h5 class="f-w-500">Email <span class="pull-right">:</span></h5>
                                                    </div>
                                                    <div class="col-4"><span>{{ current_user.email }}</span>
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="col">
                                                <div class="row mb-4">
                                                    <div class="col-2">
                                                        <h5 class="f-w-500">Admission No. <span class="pull-right">:</span></h5>
                                                    </div>
                                                    <div class="col-4"><span>{{ current_user.admission_no }}</span>
                                                    </div>
                                                    <div class="col-2">
                                                        <h5 class="f-w-500">Student ID. <span class="pull-right">:</span></h5>
                                                    </div>
                                                    <div class="col-4"><span>{{ current_user.student_id}}</span>
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="col">
                                                <div class="row mb-4">
                                                    <div class="col-2">
                                                        <h5 class="f-w-500">Class <span class="pull-right">:</span></h5>
                                                    </div>
                                                    <div class="col-4"><span>{{ current_user.student_class }}</span>
                                                    </div>
                                                    <div class="col-2">
                                                        <h5 class="f-w-500">Department <span class="pull-right">:</span></h5>
                                                    </div>
                                                    <div class="col-4"><span>{{ current_user.student_department.name }}</span>
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="col">
                                                <div class="row mb-4">
                                                    <div class="col-2">
                                                        <h5 class="f-w-500">Birth Date <span class="pull-right">:</span></h5>
                                                    </div>
                                                    <div class="col-4"><span>{{ current_user.birth_date}}</span>
                                                    </div>
                                                    <div class="col-2">
                                                        <h5 class="f-w-500">Mobile No. <span class="pull-right">:</span></h5>
                                                    </div>
                                                    <div class="col-4"><span>{{ current_user.mobile_no}}</span>
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="col">
                                                <div class="row mb-4">
                                                    <div class="col-2">
                                                        <h5 class="f-w-500">Religion <span class="pull-right">:</span></h5>
                                                    </div>
                                                    <div class="col-4"><span>{{ current_user.religion }}</span>
                                                    </div>
                                                    <div class="col-2">
                                                        <h5 class="f-w-500">Nationality <span class="pull-right">:</span></h5>
                                                    </div>
                                                    <div class="col-4"><span>{{ current_user.nationality }}</span>
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="col">
                                                <div class="row mb-4">
                                                    <div class="col-2">
                                                        <h5 class="f-w-500">Gender <span class="pull-right">:</span></h5>
                                                    </div>
                                                    <div class="col-4"><span>{{ current_user.gender }}</span>
                                                    </div>
                                                    <div class="col-2">
                                                        <h5 class="f-w-500">Father's Name <span class="pull-right">:</span></h5>
                                                    </div>
                                                    <div class="col-4"><span>{{ current_user.father_name }}</span>
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="col">
                                                <div class="row mb-4">
                                                    <div class="col-2">
                                                        <h5 class="f-w-500">Mother's Name <span class="pull-right">:</span></h5>
                                                    </div>
                                                    <div class="col-4"><span>{{ current_user.mother_name }}</span>
                                                    </div>
                                                    <div class="col-2">
                                                        <h5 class="f-w-500">Father Email <span class="pull-right">:</span></h5>
                                                    </div>
                                                    <div class="col-4"><span>{{ current_user.father_email }}</span>
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="col">
                                                <div class="row mb-4">
                                                    <div class="col-2">
                                                        <h5 class="f-w-500">Mother Email <span class="pull-right">:</span></h5>
                                                    </div>
                                                    <div class="col-4"><span>{{ current_user.mother_email }}</span>
                                                    </div>
                                                    <div class="col-2">
                                                        <h5 class="f-w-500">Father's Occupation <span class="pull-right">:</span></h5>
                                                    </div>
                                                    <div class="col-4"><span>{{ current_user.father_occ }}</span>
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="col">
                                                <div class="row mb-4">
                                                    <div class="col-2">
                                                        <h5 class="f-w-500">Mother's Occupation <span class="pull-right">:</span></h5>
                                                    </div>
                                                    <div class="col-4"><span>{{ current_user.mother_occ }}</span>
                                                    </div>
                                                    <div class="col-2">
                                                        <h5 class="f-w-500">Father's Mobile No. <span class="pull-right">:</span></h5>
                                                    </div>
                                                    <div class="col-4"><span>{{ current_user.father_mobile_no }}</span>
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="col">
                                                <div class="row mb-4">
                                                    <div class="col-2">
                                                        <h5 class="f-w-500">Mother's Mobile No. <span class="pull-right">:</span></h5>
                                                    </div>
                                                    <div class="col-4"><span>{{ current_user.mother_mobile_no }}</span>
                                                    </div>
                                                    <div class="col-2">
                                                        <h5 class="f-w-500">Permanent Address <span class="pull-right">:</span></h5>
                                                    </div>
                                                    <div class="col-4"><span>{{ current_user.permanent_add }}</span>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    <div id="profile-settings" class="tab-pane fade">
                                        <div class="pt-3">
                                            <div class="settings-form">
                                                <h4 class="text-primary">Change Password</h4>
                                                <form method="POST">
                                                    <div class="form-row">
                                                        <div class="form-group col-md-6">
                                                            <label>About me</label>
                                                            <textarea name="about_me" id="about_me" class="form-control"
                                                                cols="30" rows="6">{{ current_user.about_me }}</textarea>
                                                        </div>
                                                    </div>
                                                    <div class="form-row">
                                                        <div class="form-group col-md-6">
                                                            <label>Password</label>
                                                            <input type="password" placeholder="Password" name="password"
                                                                class="form-control" id="password">
                                                        </div>
                                                        <div class="form-group col-md-6">
                                                            <label>Confirm Password</label>
                                                            <input type="password" placeholder="Password" name="confirm_password"
                                                                class="form-control" id="confirm_password">
                                                            <span id='message'></span>
                                                        </div>
                                                    </div>
                                                    <button class="btn btn-primary" type="submit" 
                                                        name="submit" id="submit">Update Password</button>
                                                </form>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <!-- #/ container -->
</div>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js"></script>
<script>
    $('#password, #confirm_password').on('keyup', function () {
        if ($('#password').val() == $('#confirm_password').val()) {
          $('#message').html('Passwords match').css('color', 'green');
          $('#submit').removeAttr("disabled")
        } else{
            $('#message').html('Passwords not matching').css('color', 'red');
            $('#submit').prop("disabled", true)
            
        }
      });
</script>
{% endblock content %}
